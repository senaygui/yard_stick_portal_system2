<%provide(:title, "Student Registrations")%>


<link type="text/css" href="//gyrocode.github.io/jquery-datatables-checkboxes/1.2.12/css/dataTables.checkboxes.css" rel="stylesheet" />
<section class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1>Semester Registration</h1>
      </div>
      <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
          <li class="breadcrumb-item"><a href="/">Home</a></li>
          <li class="breadcrumb-item active">Semester Registration</li>
        </ol>
      </div>
    </div>
  </div><!-- /.container-fluid -->
</section>
<section class="content">
  <div class="container-fluid">
    <div class="row">
    	<div class="col-12 col-md-12">
        <div class="card card-primary">
          <div class="card-header">
            <h3 class="card-title">Registration From</h3>
          </div>
          <div class="card-body">
          	<div class="row">
	          	<div class="col-12 col-md-6">
	          		<ul class="list-group list-group-unbordered mb-3">
		              <li class="list-group-item mx-3">
		                <b>Student Fullname</b> <a class="text-muted float-right"><%= "#{current_student.first_name.upcase} #{current_student.middle_name.upcase} #{current_student.last_name.upcase}"%></a>
		              </li>
		              <li class="list-group-item mx-3">
		                <b>Student ID</b> <a class="text-muted float-right"><%= current_student.student_id.present? ? current_student.student_id : "Not Assigned Yet"%></a>
		              </li>
		              <li class="list-group-item mx-3">
		                <b>Prorgam</b> <a class="text-muted float-right"><%= current_student.program.program_name%></a>
		              </li>
		              <li class="list-group-item mx-3">
		                <b>Admission Type</b> <a class="text-muted float-right"><%= current_student.admission_type%></a>
		              </li>
		            </ul>
	          	</div>
	          	<div class="col-12 col-md-6">
	          		<ul class="list-group list-group-unbordered mb-3">
		              <li class="list-group-item mx-3">
		                <b>Academic Year</b> <a class="text-muted float-right"><%= @semester_registration.academic_calendar.calender_year%></a>
		              </li>
		              <li class="list-group-item mx-3">
		                <b>Study Level</b> <a class="text-muted float-right"><%= current_student.study_level%></a>
		              </li>
		              <li class="list-group-item mx-3">
		                <b>Year</b> <a class="text-muted float-right"><%= @semester_registration.year%></a>
		              </li>
		              <li class="list-group-item mx-3">
		                <b>Semester</b> <a class="text-muted float-right"><%= @semester_registration.semester%></a>
		              </li>
		            </ul>
	          	</div>
          	</div>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-12">
        <div class="card card-primary">
          <div class="card-header">
            <h3 class="card-title">Program Courses</h3>
          </div>
          <div class="card-body">
          	<table id='ordersTable' class='table table-striped table-sm'>
						  <thead>
						    <tr>
						      <th>Course Title</th>
						      <th>Module Code</th>
						      <th>Course Code</th>
						      <th>Credit Hour</th>
						    </tr>
						  </thead>

						  <tbody>
						    <% @semester_registration.course_registrations.each do |co| %>
						      <tr>
						        
						        <td><%= co.curriculum.course.course_title %></td>
						        <td><%= co.curriculum.course.course_module.module_code %></td>
						        <td><%= co.curriculum.course.course_code %></td>
						        <td><%= co.curriculum.credit_hour %></td>
						      </tr>
						    <% end %>
						  </tbody>
						</table>
          </div>
        </div>
      </div>
      <div class="col-12">
      	<!-- <p class="lead">Amount Due 2/22/2014</p> -->
      	<div class="row">
      		<div class="col-12 col-md-3">
      			<div class="card card-primary">
	          <div class="card-header">
	            <h3 class="card-title">Montly Prcing Option</h3>
	          </div>
	          <div class="card-body">
	          	<div class="table-responsive">
			      		<table class="table">
			      			<tbody>
				      			<tr>
				      				<th style="width:50%">Montly Subtotal:</th>
				      				<td><%= @semester_registration.student.program.monthly_price%> ETB</td>
				      			</tr>
				      			<tr>
				      				<th>Registration Fee:</th>
				      				<td>550 ETB</td>
				      			</tr>
				      			<tr>
				      				<th>Total:</th>
				      				<td><b><%= @semester_registration.student.program.monthly_price + 550%> ETB</b></td>
				      			</tr>
			      			</tbody>
			      		</table>
			      	</div>
	          </div>
        	</div>
      		</div>
      		<div class="col-12 col-md-3">
      			<div class="card card-primary">
	          <div class="card-header">
	            <h3 class="card-title">Every Two Montly Prcing Option</h3>
	          </div>
	          <div class="card-body">
	          	<div class="table-responsive">
			      		<table class="table">
			      			<tbody>
				      			<tr>
				      				<th style="width:50%">Two Month Subtotal:</th>
				      				<td><%= @semester_registration.student.program.two_monthly_price%> ETB</td>
				      			</tr>
				      			<tr>
				      				<th>Registration Fee:</th>
				      				<td>550 ETB</td>
				      			</tr>
				      			<tr>
				      				<th>Total:</th>
				      				<td><b><%= @semester_registration.student.program.two_monthly_price + 550%> ETB</b></td>
				      			</tr>
			      			</tbody>
			      		</table>
			      	</div>
	          </div>
        	</div>
      		</div>
      		<div class="col-12 col-md-3">
      			<div class="card card-primary">
	          <div class="card-header">
	            <h3 class="card-title">Every Three Montly Prcing Option</h3>
	          </div>
	          <div class="card-body">
	          	<div class="table-responsive">
			      		<table class="table">
			      			<tbody>
				      			<tr>
				      				<th style="width:50%">Three Month Subtotal:</th>
				      				<td><%= @semester_registration.student.program.three_monthly_price%> ETB</td>
				      			</tr>
				      			<tr>
				      				<th>Registration Fee:</th>
				      				<td>550 ETB</td>
				      			</tr>
				      			<tr>
				      				<th>Total:</th>
				      				<td><b><%= @semester_registration.student.program.three_monthly_price + 550%> ETB</b></td>
				      			</tr>
			      			</tbody>
			      		</table>
			      	</div>
	          </div>
        	</div>
      		</div>
      		<div class="col-12 col-md-3">
      			<div class="card card-primary">
	          <div class="card-header">
	            <h3 class="card-title">Full Semester payment Mode</h3>
	          </div>
	          <div class="card-body">
	          	<div class="table-responsive">
			      		<table class="table">
			      			<tbody>
				      			<tr>
				      				<th style="width:50%">Full Subtotal:</th>
				      				<td><%= @semester_registration.student.program.full_semester_price%> ETB</td>
				      			</tr>
				      			<tr>
				      				<th>Registration Fee:</th>
				      				<td>550 ETB</td>
				      			</tr>
				      			<tr>
				      				<th>Total:</th>
				      				<td><b><%= @semester_registration.student.program.full_semester_price + 550%> ETB</b></td>
				      			</tr>
			      			</tbody>
			      		</table>
			      	</div>
	          </div>
        	</div>
      		</div>
      	</div>
      	
      </div>
      <div class="col-12 col-md-12">
        <div class="card card-primary">
          <div class="card-header">
            <h3 class="card-title">Select payment Mode</h3>
          </div>
          <div class="card-body">
          	<%= render 'form', semester_registration: @semester_registration %>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>






<script type="text/javascript" src="//gyrocode.github.io/jquery-datatables-checkboxes/1.2.12/js/dataTables.checkboxes.min.js"></script>
<!-- 
<script>
  $(document).ready(function() {
    var oTable = $("#ordersTable").DataTable({
      order: [[2, 'desc']],
      columnDefs: [
        {
          targets: 0,
          checkboxes: {
            selectRow: true
          }
        }
      ],
      select: {
        style: 'multi'
      }
    });

  // 		$('#selectAll').on('click', function(params) {
		// 	var rows_selected = oTable.column(0).checkboxes.selected();
			
		// 	if (rows_selected.length == oTable.page.len()) {
		// 		oTable.column(0).checkboxes.select(false);
		// 	} else {
		// 		oTable.column(0).checkboxes.select(true);
		// 	}
		// })

 	// 	$('.bulkActionLink').on('click', function(params) {
		// 	// console.log(this.dataset.action)
		// 	var rows_selected = oTable.column(0).checkboxes.selected();

		// 	if (rows_selected.length > 0) {
		// 		$("#formActionType").val(this.dataset.action);
		// 		$("#bulkActionsForm").submit();
		// 	}
		// })

	// do something with all selected rows
		// $('#bulkActionsForm').on('submit', function(e){
		// 	var form = this;

		// 	var rows_selected = oTable.column(0).checkboxes.selected();

		// 	// Iterate over all selected checkboxes
		// 	$.each(rows_selected, function(index, rowId){
		// 		// Create a hidden element
		// 		$(form).append(
		// 			$('<input>')
		// 			.attr('type', 'hidden')
		// 			.attr('name', 'id[]')
		// 			.val(rowId)
		// 		);
		// 	});
		// });


  });
</script> -->